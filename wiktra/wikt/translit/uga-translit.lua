local export = {}

local tt = {
    ["ğ€"] = "áº£",
    ["ğ"] = "b",
    ["ğ‚"] = "g",
    ["ğƒ"] = "á¸«",
    ["ğ„"] = "d",
    ["ğ…"] = "h",
    ["ğ†"] = "w",
    ["ğ‡"] = "z",
    ["ğˆ"] = "á¸¥",
    ["ğ‰"] = "á¹­",
    ["ğŠ"] = "y",
    ["ğ‹"] = "k",
    ["ğŒ"] = "Å¡",
    ["ğ"] = "l",
    ["ğ"] = "m",
    ["ğ"] = "á¸",
    ["ğ"] = "n",
    ["ğ‘"] = "áº“",
    ["ğ’"] = "s",
    ["ğ“"] = "Ê¿",
    ["ğ”"] = "p",
    ["ğ•"] = "á¹£",
    ["ğ–"] = "q",
    ["ğ—"] = "r",
    ["ğ˜"] = "á¹¯",
    ["ğ™"] = "Ä¡",
    ["ğš"] = "t",
    ["ğ›"] = "á»‰",
    ["ğœ"] = "á»§",
    ["ğ"] = "sÌ€",
    ["ğŸ"] = " Â· " -- word divider
}

local reverse = {
    ["áº£"] = "ğ€",
    ["b"] = "ğ",
    ["g"] = "ğ‚",
    ["á¸«"] = "ğƒ",
    ["d"] = "ğ„",
    ["h"] = "ğ…",
    ["w"] = "ğ†",
    ["z"] = "ğ‡",
    ["á¸¥"] = "ğˆ",
    ["á¹­"] = "ğ‰",
    ["y"] = "ğŠ",
    ["k"] = "ğ‹",
    ["Å¡"] = "ğŒ",
    ["l"] = "ğ",
    ["m"] = "ğ",
    ["á¸"] = "ğ",
    ["n"] = "ğ",
    ["áº“"] = "ğ‘",
    ["s"] = "ğ’",
    ["Ê¿"] = "ğ“",
    ["p"] = "ğ”",
    ["á¹£"] = "ğ•",
    ["q"] = "ğ–",
    ["r"] = "ğ—",
    ["á¹¯"] = "ğ˜",
    ["Ä¡"] = "ğ™",
    ["t"] = "ğš",
    ["á»‰"] = "ğ›",
    ["á»§"] = "ğœ",
    ["Å›"] = "ğ",
    ["Â·"] = "ğŸ" -- word divider
}

local get_glottal = {["a"] = "áº£", ["i"] = "á»‰", ["u"] = "á»§"}

local aliases = {["a"] = "áº£", ["i"] = "á»‰", ["u"] = "á»§", ["Î¸"] = "á¹¯", ["Ã°"] = "á¸", ["x"] = "á¸«", ["áº–"] = "á¸«", ["É£"] = "Ä¡", ["á¸¡"] = "Ä¡", ["Ä§"] = "á¸¥", ["á¸³"] = "q", ["á¸“"] = "áº“"}

function export.tr(text, lang, sc)
    text = mw.ustring.gsub(text, ".", tt)
    return text
end

function export.reverse(text)
    if type(text) == "table" then text = text.args[1] end
    text = mw.ustring.gsub(text, " *[.Â·] *", "Â·")
    text = mw.ustring.gsub(text, "[Ê¿ËÊ•â€˜]", "Ê¿")
    text = mw.ustring.gsub(text, "[Ê¾Ë€Ê”â€™]", "Ê¾")
    text = mw.ustring.gsub(text, "Ê¾([aiu])", get_glottal)
    text = mw.ustring.gsub(text, "s[Ì€2â‚‚]", "Å›")
    text = mw.ustring.gsub(text, "s<sub>2</sub>", "Å›")
    text = mw.ustring.gsub(text, ".", reverse)
    return text
end

return export
