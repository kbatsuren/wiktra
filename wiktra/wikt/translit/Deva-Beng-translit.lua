local export = {}
local U = mw.ustring.char
local gsub = mw.ustring.gsub
local match = mw.ustring.match
local sub = mw.ustring.sub

local conv = {
    ["рдХ"] = "ржХ",
    ["рдЦ"] = "ржЦ",
    ["рдЧ"] = "ржЧ",
    ["рдШ"] = "ржШ",
    ["рдЩ"] = "ржЩ",
    ["рдЪ"] = "ржЪ",
    ["рдЫ"] = "ржЫ",
    ["рдЬ"] = "ржЬ",
    ["рдЭ"] = "ржЭ",
    ["рдЮ"] = "ржЮ",
    ["рдЯ"] = "ржЯ",
    ["рда"] = "ржа",
    ["рдб"] = "ржб",
    ["рдв"] = "ржв",
    ["рдг"] = "ржг",
    ["рдд"] = "ржд",
    ["рде"] = "рже",
    ["рдж"] = "ржж",
    ["рдз"] = "ржз",
    ["рди"] = "ржи",
    ["рдк"] = "ржк",
    ["рдл"] = "ржл",
    ["рдм"] = "ржм",
    ["рдн"] = "ржн",
    ["рдо"] = "ржо",
    ["рдп"] = "ржп",
    ["рд░"] = "рж░",
    ["рд▓"] = "рж▓",
    ["рд╡"] = "ржм", -- ["рд│"] = "рд│", 
    ["рд╢"] = "рж╢",
    ["рд╖"] = "рж╖",
    ["рд╕"] = "рж╕",
    ["рд╣"] = "рж╣",

    ["рдЕ"] = "ржЕ",
    ["рдЖ"] = "ржЖ",
    ["рдЗ"] = "ржЗ",
    ["рдИ"] = "ржИ",
    ["рдЙ"] = "ржЙ",
    ["рдК"] = "ржК",
    ["рдЛ"] = "ржЛ",
    ["реа"] = "рза",
    ["рдМ"] = "ржМ",
    ["реб"] = "рзб",
    ["рдП"] = "ржП",
    ["рдР"] = "ржР",
    ["рдУ"] = "ржУ",
    ["рдФ"] = "ржФ",

    ["рд╛"] = "рж╛",
    ["рд┐"] = "рж┐",
    ["реА"] = "рзА",
    ["реБ"] = "рзБ",
    ["реВ"] = "рзВ",
    ["реГ"] = "рзГ",
    ["реД"] = "рзД",
    ["рев"] = "рзв",
    ["рег"] = "рзг",
    ["реЗ"] = "рзЗ",
    ["реИ"] = "рзИ",
    ["реЛ"] = "рзЛ",
    ["реМ"] = "рзМ",
    ["реН"] = "рзН",

    ["рдБ"] = "ржБ",
    ["рдВ"] = "ржВ",
    ["рдГ"] = "ржГ",
    ["рд╜"] = "рж╜",

    ["реж"] = "рзж",
    ["рез"] = "рзз",
    ["реи"] = "рзи",
    ["рей"] = "рзй",
    ["рек"] = "рзк",
    ["рел"] = "рзл",
    ["рем"] = "рзм",
    ["рен"] = "рзн",
    ["рео"] = "рзо",
    ["реп"] = "рзп",

    ["рее"] = "рее",
    ["ред"] = "ред",

    -- ["с│╡"] = "с│╡", ["с│╢"] = "с│╢",

    ["реР"] = "ржУржБ",

    ["*"] = "*"
}

function export.tr(text, lang, sc)
    text = mw.ustring.gsub(text, ".", function(c) return conv[c] end)
    -- text = mw.ustring.gsub(text, 'ЁССД$', "ЁССИ")
    return text
end

return export
